{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/smart-watt-product/lib/role-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\n\ntype UserRole = \"facility-manager\" | \"utility-rep\"\n\ninterface RoleContextType {\n  role: UserRole\n  setRole: (role: UserRole) => void\n  isBob: boolean\n  isAlice: boolean\n}\n\nconst RoleContext = createContext<RoleContextType | undefined>(undefined)\n\nexport function RoleProvider({ children }: { children: ReactNode }) {\n  const [role, setRole] = useState<UserRole>(\"facility-manager\")\n\n  useEffect(() => {\n    const savedRole = localStorage.getItem(\"smartwatt-role\") as UserRole | null\n    if (savedRole && (savedRole === \"facility-manager\" || savedRole === \"utility-rep\")) {\n      setRole(savedRole)\n    }\n  }, [])\n\n  const handleSetRole = (newRole: UserRole) => {\n    setRole(newRole)\n    localStorage.setItem(\"smartwatt-role\", newRole)\n  }\n\n  return (\n    <RoleContext.Provider\n      value={{\n        role,\n        setRole: handleSetRole,\n        isBob: role === \"facility-manager\",\n        isAlice: role === \"utility-rep\",\n      }}\n    >\n      {children}\n    </RoleContext.Provider>\n  )\n}\n\nexport function useRole() {\n  const context = useContext(RoleContext)\n  if (context === undefined) {\n    throw new Error(\"useRole must be used within a RoleProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAaA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAW;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,aAAa,CAAC,cAAc,sBAAsB,cAAc,aAAa,GAAG;YAClF,QAAQ;QACV;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB,CAAC;QACrB,QAAQ;QACR,aAAa,OAAO,CAAC,kBAAkB;IACzC;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,SAAS;YACT,OAAO,SAAS;YAChB,SAAS,SAAS;QACpB;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}